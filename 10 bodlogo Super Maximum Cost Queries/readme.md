üí∞ Super Maximum Cost Queries
–°—ç–¥—ç–≤: Trees, Graphs, DFS, Tree Diameter
–•“Ø–Ω–¥–∏–π–Ω —Ç“Ø–≤—à–∏–Ω: Hard
–•–æ–ª–±–æ–æ—Å: Hackerrank ‚Äì Super Maximum Cost Queries
–¢–∞–Ω–¥ $n$ —à–∏—Ä—Ö—ç–≥ –∑–∞–Ω–≥–∏–ª–∞–∞—Ç–∞–π –º–æ–¥ (tree) ”©–≥”©–≥–¥”©–Ω”©. –ú–æ–¥–Ω—ã –∏—Ä–º—ç–≥ –±“Ø—Ä–∏–π–Ω “Ø–Ω—ç ”©—Ä—Ç”©–≥ ”©–≥”©–≥–¥—Å”©–Ω.
–¢–∞ –¥–∞—Ä–∞–∞—Ö —Ö–æ—ë—Ä —Ç”©—Ä–ª–∏–π–Ω –∞—Å—É—É–ª—Ç–∞–Ω–¥ —Ö–∞—Ä–∏—É–ª–∞—Ö —à–∞–∞—Ä–¥–ª–∞–≥–∞—Ç–∞–π:

1 x y : x –±–∞ y –∑–∞–Ω–≥–∏–ª–∞–∞–Ω—É—É–¥—ã–Ω —Ö–æ–æ—Ä–æ–Ω–¥–æ—Ö –∑–∞–º –¥—ç—ç—Ä—Ö —Ö–∞–º–≥–∏–π–Ω ”©–Ω–¥”©—Ä “Ø–Ω—ç—Ç—ç–π –∏—Ä–º—ç–≥–∏–π–Ω “Ø–Ω–∏–π–≥ –æ–ª–æ—Ö.

2 i v : i-—Ä –∏—Ä–º—ç–≥–∏–π–Ω “Ø–Ω–∏–π–≥ v-—Ä —à–∏–Ω—ç—á–ª—ç—Ö.

üß† –®–∏–π–¥—ç–ª
–ú–æ–¥–Ω—ã –∏—Ä–º—ç–≥ –¥—ç—ç—Ä ”©”©—Ä—á–ª”©–ª—Ç —Ö–∏–π—Ö –±–∞ –∑–∞–º—ã–Ω —Ö–∞–º–≥–∏–π–Ω –∏—Ö —É—Ç–≥—ã–≥ –æ–ª–Ω–æ –≥—ç–¥—ç–≥ –Ω—å Segment Tree –±–æ–ª–æ–Ω Heavy-Light Decomposition (HLD) –∞—à–∏–≥–ª–∞—Ö–∞–¥ —Ç–æ—Ö–∏—Ä–æ–º–∂—Ç–æ–π.

–ò—Ä–º—ç–≥ –±“Ø—Ä–∏–π–≥ —Ö–æ—Å–ª–æ–¥—Å–æ–Ω —Ç–æ–æ–Ω –¥–∞—Ä–∞–∞–ª–ª–∞–∞—Ä –∏–ª—ç—Ä—Ö–∏–π–ª–∂, –∞—Å—É—É–ª—Ç—É—É–¥—ã–≥ —Ö—É—Ä–¥–∞–Ω —à–∏–π–¥—ç—Ö.

Segment Tree-–≥ HLD-–≥–∏–π–Ω –¥–∞–≥—É—É –±“Ø—Ç—ç—ç–∂, —à–∏–Ω—ç—á–ª—ç–ª—Ç –±–∞ –∞—Å—É—É–ª—Ç —Ö–æ—ë—Ä—ã–≥ “Ø—Ä –¥“Ø–Ω—Ç—ç–π –≥“Ø–π—Ü—ç—Ç–≥—ç–Ω—ç.
üìå –¢–∞–π–ª–±–∞—Ä
–≠–Ω—ç –±–æ–¥–ª–æ–≥–æ –Ω—å Tree + Segment Tree + Heavy-Light Decomposition —Ö–æ—Å–ª—É—É–ª—Å–∞–Ω –∞—Ä–≥–∞ –∞—à–∏–≥–ª–∞—Ö —à–∞–∞—Ä–¥–ª–∞–≥–∞—Ç–∞–π.

–ò—Ä–º—ç–≥–∏–π–Ω —É—Ç–≥—ã–≥ —à—É—É–¥ —à–∏–Ω—ç—á–ª—ç–Ω, –∑–∞–º –¥–∞–≥—É—É —Ö–∞–º–≥–∏–π–Ω –∏—Ö —É—Ç–≥—ã–≥ —Ö—É—Ä–¥–∞–Ω –æ–ª–Ω–æ.

–£–≥ –∫–æ–¥ –Ω—å “Ø–Ω–¥—Å—ç–Ω —à–∏–π–¥–ª–∏–π–Ω —Å–∞–Ω–∞–∞–≥ —Ö–∞—Ä—É—É–ª—Å–∞–Ω –±”©–≥”©”©–¥ –∂–∏–∂–∏–≥ –∑–∞—Å–≤–∞—Ä —à–∞–∞—Ä–¥–ª–∞–≥–∞—Ç–∞–π –±–∞–π–∂ –±–æ–ª–Ω–æ (–∂–∏—à—ç—ç: updateEdge —Ñ—É–Ω–∫—Ü—ç–¥ –∏–ª“Ø“Ø —Å–∞–π–Ω –∏–Ω–¥–µ–∫—Å –æ–ª–æ—Ö –∞—Ä–≥–∞ —Ö—ç—Ä—ç–≥—Ç—ç–π).



